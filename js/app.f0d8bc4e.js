(function(){"use strict";var t={3224:function(t,e,n){n(6992),n(8674),n(9601),n(7727);var a=n(8935),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("keep-alive",{attrs:{include:"home"}},[n("router-view")],1),t.$route.meta.showTab?n("van-tabbar",{attrs:{"active-color":"#ee0a24",route:"",placeholder:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.lists,(function(e){return n("van-tabbar-item",{key:e.id,attrs:{icon:e.icon,name:e.name,to:e.to,badge:e.badge}},[t._v(" "+t._s(e.text)+" ")])})),1):t._e()],1)},r=[],s={data:function(){return{active:"home",lists:[{id:1,text:"首页",icon:"wap-home",name:"home",to:"/home"},{id:2,text:"版块",icon:"wap-nav",name:"sort",to:"/sort"},{id:3,text:"发帖",icon:"upgrade",name:"",to:"/release"},{id:4,text:"我的",icon:"manager",name:"mine",to:"/mine"}]}}},o=s,l=n(1001),c=(0,l.Z)(o,i,r,!1,null,null,null),u=c.exports,d=(n(9035),n(9702)),m=(n(3533),n(2497)),v=(n(5521),n(6722)),p=(n(8395),n(3486)),f=(n(5916),n(8033)),h=(n(3257),n(9327)),g=(n(9351),n(1614)),b=(n(4870),n(739)),x=(n(7057),n(1911)),_=(n(4663),n(338)),Z=(n(9497),n(7384)),k=(n(6139),n(8235)),y=(n(1332),n(7790)),w=(n(985),n(3779)),C=(n(86),n(8829)),E=(n(3182),n(8924)),$=(n(5979),n(9851)),j=(n(6283),n(1197)),S=(n(3231),n(573)),z=(n(9785),n(1649)),R=(n(5180),n(3316)),A=(n(8831),n(1660)),L=(n(3048),n(5600)),O=(n(6285),n(7086)),P=(n(2314),n(1802)),T=(n(9719),n(495)),F=(n(4112),n(5263)),B=(n(5758),n(5803)),D=(n(4480),n(3594)),q=(n(7706),n(350)),I=(n(699),n(4669));n(415);a.Z.use(I.Z),a.Z.use(q.Z),a.Z.use(D.Z),a.Z.use(B.Z),a.Z.use(F.Z),a.Z.use(T.Z),a.Z.use(P.Z),a.Z.use(O.Z),a.Z.use(L.Z),a.Z.use(A.Z),a.Z.use(R.Z),a.Z.use(z.Z),a.Z.use(S.Z),a.Z.use(j.Z),a.Z.use($.Z),a.Z.use(E.Z),a.Z.use(C.Z),a.Z.use(w.Z),a.Z.use(y.Z),a.Z.use(k.Z),a.Z.use(Z.Z),a.Z.use(_.Z),a.Z.use(x.Z),a.Z.use(b.Z),a.Z.use(g.Z),a.Z.use(h.Z),a.Z.use(f.Z),a.Z.use(p.Z),a.Z.use(v.Z),a.Z.use(m.Z),a.Z.use(d.Z);var M=n(2809),W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-pull-refresh",{attrs:{"success-text":"刷新成功"},on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[n("van-nav-bar",{attrs:{title:"校园发布"}}),n("van-swipe",{attrs:{autoplay:5e3,"indicator-color":"white"}},t._l(t.images,(function(t){return n("van-swipe-item",{key:t.id},[n("img",{staticClass:"img1",attrs:{src:t.img}})])})),1),n("van-notice-bar",{attrs:{scrollable:"",text:"学院填写请不要随便填写",mode:"closeable"}}),n("van-grid",{attrs:{"column-num":4,border:!1}},t._l(t.lists,(function(t){return n("van-grid-item",{key:t.id,attrs:{icon:t.icon,text:t.name}})})),1),n("van-tabs",{attrs:{swipeable:"",sticky:"",animated:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.tabs,(function(e){return n("van-tab",{key:e.id,attrs:{title:e.name}},t._l(t.list,(function(e){return n("Article",{key:e.id,attrs:{title:e.title,user:e.user,time:e.time,image:e.image},nativeOn:{click:function(n){return t.onClickCell(e.id)}}})})),1)})),1)],1)],1)},H=[],J=n(6198),G=(n(8975),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[[n("div",[n("van-cell",{scopedSlots:t._u([{key:"title",fn:function(){return[n("div",{staticClass:"title-box"},[n("span",[t._v(t._s(t.title))]),1===t.image.length?n("img",{staticClass:"thumb",attrs:{src:t.image[0].img}}):t._e()]),t.image.length>1?n("div",{staticClass:"thumb-box"},t._l(t.image,(function(t){return n("img",{key:t.id,staticClass:"thumb",attrs:{src:t.img}})})),0):t._e()]},proxy:!0},{key:"label",fn:function(){return[n("div",{staticClass:"label-box"},[n("span",[t._v(t._s(t.user)+"  信息工程学院")]),n("span",[t._v("8945浏览")]),n("span",[t._v(t._s(t.time))])])]},proxy:!0}])})],1)]],2)}),N=[],Q={props:{title:{default:"",type:String},user:{default:"",type:String},time:{default:"",type:String},image:{default:function(){return{}}}},methods:{}},U=Q,V=(0,l.Z)(U,G,N,!1,null,"7f32c753",null),X=V.exports,K={name:"home",components:{Article:X},data:function(){return{active:0,images:[],list:[],isLoading:!1,tabs:[{id:1,name:"热点"},{id:2,name:"信息工程学院"},{id:3,name:"旅游管理学院"},{id:4,name:"烹饪科技学院"},{id:5,name:"国际商贸学院"},{id:6,name:"工艺美术学院"},{id:7,name:"经济管理学院"}],lists:[{id:1,name:"奶茶",icon:"https://img66.foodjx.com/2/20200423/637232497928361812582.jpg"},{id:3,name:"代买",icon:"https://img66.foodjx.com/2/20200423/637232497928361812582.jpg"},{id:5,name:"二手商品",icon:"https://img66.foodjx.com/2/20200423/637232497928361812582.jpg"},{id:6,name:"烘培蛋糕",icon:"https://img66.foodjx.com/2/20200423/637232497928361812582.jpg"}]}},methods:{getinfo:function(){var t=this;return(0,J.Z)(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/school/index");case 2:n=e.sent,a=n.data,t.images=a.data;case 5:case"end":return e.stop()}}),e)})))()},ArticleList:function(){var t=this;return(0,J.Z)(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/list");case 2:n=e.sent,a=n.data,t.list=a.list;case 5:case"end":return e.stop()}}),e)})))()},onRefresh:function(){var t=this;setTimeout((function(){location.reload(),t.isLoading=!1}),1e3)},onClickCell:function(t){this.$router.push({path:"/detail",query:{id:t}})}},created:function(){this.getinfo(),this.ArticleList()}},Y=K,tt=(0,l.Z)(Y,W,H,!1,null,"01fa6393",null),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("mineheader"),n("mineorder")],1)},at=[],it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"headerbox"},[n("van-icon",{staticClass:"headericon",attrs:{name:"setting-o"}}),n("div",{staticClass:"headercontent"},[n("van-image",{attrs:{"lazy-load":"",width:"60px",height:"60px",round:"",src:t.image}}),n("div",{staticClass:"text"},[n("span",[t._v(t._s(t.username))]),n("span",[t._v("信息工程学院")])]),n("div",{staticClass:"text2"},[n("van-circle",{attrs:{rate:30,speed:100,text:t.text,clockwise:!1,color:t.gradientColor,size:"70"},model:{value:t.currentRate,callback:function(e){t.currentRate=e},expression:"currentRate"}})],1)],1),n("van-grid",{attrs:{border:!1,"column-num":3}},[n("van-grid-item",[n("div",{staticClass:"text3"},[t._v("22")]),n("div",{staticClass:"text4"},[t._v("动态")])]),n("van-grid-item",[n("div",{staticClass:"text3"},[t._v("0")]),n("div",{staticClass:"text4"},[t._v("关注")])]),n("van-grid-item",[n("div",{staticClass:"text3"},[t._v("9")]),n("div",{staticClass:"text4"},[t._v("粉丝")])])],1)],1)},rt=[],st={data:function(){return{currentRate:50,text:"Lv.2",gradientColor:{"0%":"#C6FFDD","50%":"#fbd786","100%":"#F7797D"},username:"乐乐同学",image:"https://tse1-mm.cn.bing.net/th/id/R-C.32ebc001f8c411a03133371bafa57ea6?rik=DmMaW3fWei%2f9OA&riu=http%3a%2f%2fimg.woyaogexing.com%2f2017%2f02%2f24%2fef193195d7fec365!600x600.jpg&ehk=pFWZc3LNdE0MSyk%2fXT%2by0fMolDCJBDVSJwoxrA%2fQ7yw%3d&risl=&pid=ImgRaw&r=0"}},methods:{}},ot=st,lt=(0,l.Z)(ot,it,rt,!1,null,"2a15f39b",null),ct=lt.exports,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-cell",{attrs:{title:"退出登录","is-link":""},on:{click:t.quit}})],1)},dt=[],mt={methods:{quit:function(){localStorage.removeItem("token"),this.$router.push("/login")}}},vt=mt,pt=(0,l.Z)(vt,ut,dt,!1,null,null,null),ft=pt.exports,ht={components:{mineheader:ct,mineorder:ft}},gt=ht,bt=(0,l.Z)(gt,nt,at,!1,null,null,null),xt=bt.exports,_t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-search",{attrs:{shape:"round",placeholder:"请输入搜索关键词"},on:{click:t.tosearch}}),n("van-grid",{attrs:{"column-num":2,border:!1}},t._l(t.forum,(function(e){return n("van-grid-item",{key:e.id},[n("img",{staticStyle:{width:"100%"},attrs:{src:"http://www.jstc.edu.cn/xxxy/images/logo2020.1.jpg"}}),n("span",{staticStyle:{"margin-top":"5px"}},[t._v(t._s(e.name))])])})),1)],1)},Zt=[],kt={data:function(){return{forum:[{id:1,name:"闲聊"},{id:2,name:"旅游管理学院"},{id:3,name:"国际商务学院"},{id:4,name:"经济管理学院"},{id:5,name:"烹饪科技学院"},{id:6,name:"工艺美术学院"},{id:7,name:"宿舍"},{id:8,name:"食堂"},{id:9,name:"喵咪之家"}]}},methods:{tosearch:function(){this.$router.push("/search")}}},yt=kt,wt=(0,l.Z)(yt,_t,Zt,!1,null,null,null),Ct=wt.exports,Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-search",{staticClass:"serch1",staticStyle:{padding:"10px 5px"},attrs:{placeholder:"点击前往搜索",shape:"round"}}),n("van-cell",{attrs:{title:"搜索历史"}},[n("span",[t._v("清除")])]),n("div",{staticClass:"history"},t._l(t.searchHistory,(function(e){return n("van-tag",{key:e,staticStyle:{margin:"2px"},attrs:{plain:"",size:"large"}},[t._v(t._s(e))])})),1)],1)},$t=[],jt={data:function(){return{searchHistory:["手机","iPhone","三星","苹果笔记本","华为笔记本","三星硬盘","LG显示器","奥特曼玩具","面包","零食","破解版PS","路由器","摩托罗拉"]}}},St=jt,zt=(0,l.Z)(St,Et,$t,!1,null,"08214dfc",null),Rt=zt.exports,At=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-nav-bar",{attrs:{fixed:"",title:"文章详情","left-arrow":""},on:{"click-left":function(e){return t.$router.back()}}}),n("div",{staticClass:"article-container"},[n("h1",{staticClass:"art-title"},[t._v(t._s(t.list.title))]),n("van-cell",{attrs:{center:"",title:t.list.user,label:t.list.time},scopedSlots:t._u([{key:"icon",fn:function(){return[n("img",{staticClass:"avatar",attrs:{src:t.list.avatar}})]},proxy:!0},{key:"default",fn:function(){return[n("div",["true"===t.list.focus?n("van-button",{attrs:{type:"info",size:"mini"}},[t._v("已关注")]):t._e(),"false"===t.list.focus?n("van-button",{attrs:{icon:"plus",type:"info",size:"mini",plain:""}},[t._v("关注")]):t._e()],1)]},proxy:!0}])}),n("van-divider"),n("div",{staticClass:"art-content"},[t._v(t._s(t.list.content))]),n("div",t._l(t.list.image,(function(t){return n("img",{key:t.id,attrs:{src:t.img,width:"100%"}})})),0),n("van-divider",[t._v("End")]),n("div",{staticClass:"like-box"},["1"===t.list.like?n("van-button",{attrs:{icon:"good-job",type:"danger",size:"small"}},[t._v("已点赞")]):t._e(),"0"===t.list.like?n("van-button",{attrs:{icon:"good-job-o",type:"danger",plain:"",size:"small"}},[t._v("点赞")]):t._e()],1)],1),n("div",[n("Commrnt"),n("div",{staticClass:"add-cmt-box van-hairline--top"},[n("van-icon",{attrs:{name:"arrow-left",size:"18"},on:{click:function(e){return t.$router.back()}}}),n("div",{staticClass:"ipt-cmt-div"},[t._v("发表评论")]),n("div",{staticClass:"icon-box"},[n("van-badge",{attrs:{content:0,max:99}},[n("van-icon",{attrs:{name:"comment-o",size:"20"}})],1),n("van-icon",{attrs:{name:"star-o",size:"20"}}),n("van-icon",{attrs:{name:"share-o",size:"20"}})],1)],1),n("div",{staticClass:"cmt-box van-hairline--top"},[n("textarea",{attrs:{placeholder:"友善评论、理性发言、阳光心灵"}}),n("van-button",{attrs:{type:"default",disabled:""}},[t._v("发布")])],1)],1)],1)},Lt=[],Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"cmt-list"},[n("div",{staticClass:"cmt-item"},[n("div",{staticClass:"cmt-header"},[t._m(0),n("div",{staticClass:"cmt-header-right"},[n("van-icon",{attrs:{name:"like",size:"16",color:"red"}}),n("van-icon",{attrs:{name:"like-o",size:"16",color:"gray"}})],1)]),n("div",{staticClass:"cmt-body"},[t._v("666，厉害")]),n("div",{staticClass:"cmt-footer"},[t._v("3天前")])])])])},Pt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cmt-header-left"},[n("img",{staticClass:"avatar",attrs:{src:"",alt:""}}),n("span",{staticClass:"uname"},[t._v("zs")])])}],Tt={},Ft=(0,l.Z)(Tt,Ot,Pt,!1,null,"57eb172d",null),Bt=Ft.exports,Dt={components:{Commrnt:Bt},data:function(){return{list:[]}},created:function(){var t=this;return(0,J.Z)(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post("/detail",{id:t.$route.query.id});case 2:n=e.sent,a=n.data,t.list=a.list,console.log(t.list);case 6:case"end":return e.stop()}}),e)})))()}},qt=Dt,It=(0,l.Z)(qt,At,Lt,!1,null,"588c78d3",null),Mt=It.exports,Wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-nav-bar",{attrs:{title:"发帖栏","right-text":"发布"}}),n("van-cell-group",[n("van-field",{attrs:{label:"标题",placeholder:"请输入内容"},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}})],1),n("van-field",{attrs:{readonly:"",clickable:"",name:"picker",value:t.value,label:"版块",placeholder:"点击选择发布的版块"},on:{click:function(e){t.showPicker=!0}}}),n("van-popup",{attrs:{position:"bottom"},model:{value:t.showPicker,callback:function(e){t.showPicker=e},expression:"showPicker"}},[n("van-picker",{attrs:{"show-toolbar":"",columns:t.columns},on:{confirm:t.onConfirm,cancel:function(e){t.showPicker=!1}}})],1),n("van-field",{attrs:{rows:"5",autosize:"",type:"textarea",maxlength:"200",placeholder:"这一刻的你在想什么...","show-word-limit":""},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),n("van-field",{attrs:{name:"uploader"},scopedSlots:t._u([{key:"input",fn:function(){return[n("van-uploader",{attrs:{"max-count":9},model:{value:t.uploader,callback:function(e){t.uploader=e},expression:"uploader"}})]},proxy:!0}])})],1)},Ht=[],Jt={data:function(){return{uploader:[],value:"",value2:"",message:"",columns:["信息工程学院","旅游管理学院","烹饪科技学院","工艺美术学院","经济管理学院","国际商务学院"],showPicker:!1}},methods:{onConfirm:function(t){this.value=t,this.showPicker=!1}}},Gt=Jt,Nt=(0,l.Z)(Gt,Wt,Ht,!1,null,null,null),Qt=Nt.exports,Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-nav-bar",{attrs:{"left-text":"返回","left-arrow":"",border:!1},on:{"click-left":t.onClickLeft}}),n("div",{staticClass:"text"},[t._v("登录页面")]),n("div",[t._v("测试账号:lele 测试密码:123456")]),n("van-cell-group",[n("van-field",{attrs:{"left-icon":"https://blele.oss-cn-beijing.aliyuncs.com/%E8%B4%A6%E5%8F%B7%E4%B8%AD%E5%BF%83%20%E8%B4%A6%E5%8F%B7%E7%AE%A1%E7%90%86.png",placeholder:"请输入账号"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),n("van-field",{attrs:{clearable:"","left-icon":"https://blele.oss-cn-beijing.aliyuncs.com/%E5%AF%86%E7%A0%81.png",placeholder:"请输入密码",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("van-button",{staticClass:"btn",attrs:{type:"primary",block:"",round:""},on:{click:t.login}},[t._v("登录")])],1)},Vt=[],Xt={data:function(){return{username:"",password:""}},methods:{login:function(){"lele"===this.username&&"123456"===this.password?(localStorage.setItem("token","Bearer xxxx"),this.$router.push("/mine")):localStorage.removeItem("token")},onClickLeft:function(){this.$router.push("/home")}}},Kt=Xt,Yt=(0,l.Z)(Kt,Ut,Vt,!1,null,"a424e950",null),te=Yt.exports;a.Z.use(M.Z);var ee=new M.Z({routes:[{path:"/",redirect:"/home"},{path:"/home",component:et,meta:{showTab:!0}},{path:"/mine",component:xt,meta:{showTab:!0,login:!0}},{path:"/sort",component:Ct,meta:{showTab:!0}},{path:"/search",component:Rt},{path:"/detail",component:Mt},{path:"/release",component:Qt,meta:{showTab:!0,login:!0}},{path:"/login",component:te}]}),ne=M.Z.prototype.push;M.Z.prototype.push=function(t,e,n){return e||n?ne.call(this,t,e,n):ne.call(this,t).catch((function(t){return t}))},ee.beforeEach((function(t,e,n){var a=localStorage.getItem("token");t.meta.login?a?n():n({path:"/login",query:{redirect:t.path}}):n()}));var ae=ee,ie=n(6166),re=n.n(ie);a.Z.config.productionTip=!1,re().defaults.baseURL="https://console-mock.apipost.cn/app/mock/project/42a32e59-b9c8-4e3d-f684-902c6f6bd729",a.Z.prototype.$http=re(),new a.Z({router:ae,render:function(t){return t(u)}}).$mount("#app")}},e={};function n(a){var i=e[a];if(void 0!==i)return i.exports;var r=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.m=t,function(){var t=[];n.O=function(e,a,i,r){if(!a){var s=1/0;for(u=0;u<t.length;u++){a=t[u][0],i=t[u][1],r=t[u][2];for(var o=!0,l=0;l<a.length;l++)(!1&r||s>=r)&&Object.keys(n.O).every((function(t){return n.O[t](a[l])}))?a.splice(l--,1):(o=!1,r<s&&(s=r));if(o){t.splice(u--,1);var c=i();void 0!==c&&(e=c)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[a,i,r]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,r,s=a[0],o=a[1],l=a[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)var u=l(n)}for(e&&e(a);c<s.length;c++)r=s[c],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(u)},a=self["webpackChunkschoolpost"]=self["webpackChunkschoolpost"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(3224)}));a=n.O(a)})();
//# sourceMappingURL=app.f0d8bc4e.js.map